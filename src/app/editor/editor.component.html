<h1>EDITOR</h1>

<div id="new-scenario">
  <h2>ADD SCENARIO</h2>
  <label>text: </label><br>
  <textarea #text rows="8" cols="80"></textarea>
  <button (click)="addScenario(text.value); text.value=''" type="button">add scenario</button>
</div>

<h2>SCENARIOS</h2>
<div class="scenario" *ngFor="let scenario of scenarios">
  <h3>Scenario {{scenario.id}}</h3>
  <p>{{scenario.text}}</p>

  <div *ngIf="scenario.choices.length > 0">
    <hr>
    <h3>choices:</h3>
    <ul>
      <li *ngFor="let choice of scenario.choices">{{choice.text}}</li>
    </ul>
  </div>

  <hr>
  <h3>ADD CHOICE</h3>
  <label><strong>choice</strong></label><br>
  <input #cText type="text"><br>
  <label><strong>success</strong></label><br>
  <label>text:</label>
  <input #success type="text">
  <label>scenario</label>
  <select #successChoice>
    <option *ngFor="let scenario of scenarios" value="">{{scenario.id}}</option>
  </select><br>
  <label><strong>failure</strong></label><br>
  <label>text:</label>
  <input #fail type="text">
  <label>scenario</label>
  <select #failChoice>
    <option *ngFor="let scenario of scenarios" value="">{{scenario.id}}</option>
  </select>
  <button (click)="addChoice({
    scenario: scenario.id,
    text: cText.value,
    success: success.value,
    successId: successChoice.selectedOptions[0].text,
    fail: fail.value,
    failId: failChoice.selectedOptions[0].text
  })" type="button">add choice</button>
</div>
